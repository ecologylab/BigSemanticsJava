<meta_metadata_repository name="google_patents" package="ecologylab.semantics.generated.library" default_user_agent_name="chrome_2">
	<meta_metadata name="google_patent_search" comment="Google Patents Search Class" type="search" user_agent_name="firefox_2" parser="xpath">
	<selector url_regex="(?=http://www.google.com/patents)^((?!id=).)*$" domain="google.com"/>
		<collection name="search_results" xpath="//div[@class='scontentarea']//p[last()&gt;position()]">
			<scalar name="heading" xpath="./a" />
			<scalar name="link" xpath="./a/@href" />
		</collection>
		<semantic_actions>
			<get_field name="search_results" />
			<for_each collection="search_results" as="result">
				<get_field object="result" name="heading" />
				<get_field object="result" name="link" />
				<parse_document now="true">
					<arg value="heading" name="anchor_text" />
					<arg value="link" name="container_link" />
				</parse_document>
			</for_each>
		</semantic_actions>
	</meta_metadata>
	<meta_metadata name="google_patent" extends="document" comment="Google Patents Class" user_agent_name="firefox_2" parser="xpath">
		<selector url_path_tree="http://www.google.com/patents/about"/>
		<scalar name="title" xpath="//div[@id='titlebar']/h1" />
		<scalar name="inventor" xpath="//div[@id='titlebar']/span" scalar_type="String" />
		<scalar name="abstract_field" xpath="//table[@id='summarytable']/tr/td/text()" scalar_type="String" />
		<scalar name="claims" hide="true" xpath="//div[@id='patent_claims_v']" scalar_type="String" />
		<scalar name="pic_link" xpath="//div[@id='selected_pages_v']/div[1]/a[1]/@href" scalar_type="ParsedURL" />
		<collection name="referenced_bys" hide="true" xpath="//div[@id='patent_referenced_by_v']/table/tr[position()&gt;1]" child_type="search_result">
			<scalar name="heading" xpath="./td[2]" />
			<scalar name="link" xpath="./td[1]/a/@href" />
		</collection>
		<collection name="citations" hide="true" xpath="//div[@id='patent_citations_v']/table/tr[position()&gt;1]" child_type="search_result">
			<scalar name="heading" xpath="./td[2]" />
			<scalar name="link" xpath="./td[1]/a/@href" />
		</collection>
		<collection name="pic_links" hide="true" xpath="//div[@id='selected_pages_v']/div/a[1]" child_type="search_result">
			<scalar name="link" xpath="./@href" />
		</collection>
		<semantic_actions>
			<get_field name="patent_name" />
			<get_field name="inventor" />
			<get_field name="pic_links" />
			<for_each collection="pic_links" as="pic">
				<get_field object="pic" name="link" />
				<parse_document now="true">
					<arg value="link" name="container_link" />
				</parse_document>
			</for_each>
			<get_field name="abstract_field" />
			<if>
				<not_null value="abstract_field" />
				<create_and_visualize_text_surrogate>
					<arg value="abstract_field" name="text" />
				</create_and_visualize_text_surrogate>
			</if>
			<get_field name="claims" />
			<if>
				<not_null value="claims" />
				<create_and_visualize_text_surrogate>
					<arg value="claims" name="text" />
				</create_and_visualize_text_surrogate>
			</if>
			<get_field name="citations" />
			<for_each collection="citations" as="cit">
				<get_field object="cit" name="heading" />
				<get_field object="cit" name="link" />
				<parse_document>
					<arg value="heading" name="anchor_text" />
					<arg value="link" name="container_link" />
				</parse_document>
			</for_each>
			<get_field name="referenced_bys" />
			<for_each collection="referenced_bys" as="ref">
				<get_field object="ref" name="heading" />
				<get_field object="ref" name="link" />
				<parse_document>
					<arg value="heading" name="anchor_text" />
					<arg value="link" name="container_link" />
				</parse_document>
			</for_each>
		</semantic_actions>
	</meta_metadata>
	<meta_metadata name="google_patent_image" extends="document" comment="Google Patents Image Class" user_agent_name="firefox_2" parser="xpath">
		<selector url_regex="(?=http://www.google.com/patents\?id=)^((?!img).)*$" domain="google.com"/>
		<scalar name="title" xpath="//div[@id='titlebar']/h1" />
		<scalar name="inventor" xpath="//div[@id='titlebar']/span" scalar_type="String" />
		<collection name="pic_urls" hide="true" xpath="//img[@class='html-div']" child_type="search_result">
			<scalar name="link" xpath="./@src" />
		</collection>
		<semantic_actions>
			<get_field name="pic_urls" />
			<for_each collection="pic_urls" as="p">
				<get_field object="p" name="link" />
				<create_and_visualize_img_surrogate>
					<arg value="link" name="image_purl" />
				</create_and_visualize_img_surrogate>
			</for_each>
		</semantic_actions>
	</meta_metadata>
	<meta_metadata name="google_sorry" extends="document" parser="xpath">
		<selector url_regex="http://sorry.google.com" domain="google.com"/>
		<semantic_actions>
			<back_off_from_site domain="google.com" />
		</semantic_actions>
	</meta_metadata>
</meta_metadata_repository>